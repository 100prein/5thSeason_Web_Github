<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../src/styles.css">
    <title>5th Season | Forecast</title>
</head>
<body>
   
        <ul class="nav">
            <li><a href="../index.html">Home</a></li>
            <li><a href="./forecast.html">Forecast</a></li>
            <li><a href="./prep.html">Prep</a></li>
            <li style="float:right" class="time" id="current-time">
                <span id="am-pm">PM</span>
            </li>
            <li style="float:right" class="date" id="date">
                Monday, 24 May
            </li>
        </ul>
        <div class="temp">
            <h4 class="today" id="current-temp">
                <img src="https://openweathermap.org/img/wn/10d@2x.png" alt="weather icon" class="w-icon" id="weather-icon">
                <div class="current-temp" id="temp">25.6&#176; C</div>
            </h4>
            <p class="time-zone" id="time-zone">New York/North America</p>
            <p id="country" class="country">NY</p>
            <p id="weather-description">Broken Clouds</p>
        </div>
       
        <div class="future-forecast">
            <div class="weather-forecast" id="weather-forecast">
                <div class="weather-forecast-item">
                    <div class="day">Monday</div>
                    <img src="https://openweathermap.org/img/wn/10d@2x.png" alt="weather icon" class="w-icon">
                    <div class="temp">Night - 25.6&#176; C</div>
                    <div class="temp">Day - 35.6&#176; C</div>
                </div>
                <div class="weather-forecast-item">
                    <div class="day">Monday</div>
                    <img src="https://openweathermap.org/img/wn/10d@2x.png" alt="weather icon" class="w-icon">
                    <div class="temp">Night - 25.6&#176; C</div>
                    <div class="temp">Day - 35.6&#176; C</div>
                </div>
                <div class="weather-forecast-item">
                    <div class="day">Monday</div>
                    <img src="https://openweathermap.org/img/wn/10d@2x.png" alt="weather icon" class="w-icon">
                    <div class="temp">Night - 25.6&#176; C</div>
                    <div class="temp">Day - 35.6&#176; C</div>
                </div>
                <div class="weather-forecast-item">
                    <div class="day">Monday</div>
                    <img src="https://openweathermap.org/img/wn/10d@2x.png" alt="weather icon" class="w-icon">
                    <div class="temp">Night - 25.6&#176; C</div>
                    <div class="temp">Day - 35.6&#176; C</div>
                </div>
                <div class="weather-forecast-item">
                    <div class="day">Monday</div>
                    <img src="https://openweathermap.org/img/wn/10d@2x.png" alt="weather icon" class="w-icon">
                    <div class="temp">Night - 25.6&#176; C</div>
                    <div class="temp">Day - 35.6&#176; C</div>
                </div>
            </div>
        </div>
        <script>
            const apiKey = '2d18756eb4b0c5ced47eb3f94f73aa5e';
            const city = 'New York';
            const country = 'US';
            const lat = 40.7128; // Latitude for New York
            const lon = -74.0060; // Longitude for New York
    
            async function fetchWeatherData() {
                document.getElementById('weather-icon').src = `https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`;

                const response = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=hourly,minutely,alerts&units=imperial&appid=${apiKey}`);
                const data = await response.json();
    
                document.getElementById('current-temp').innerHTML = `${data.current.temp.toFixed(1)}&#176; F`;
                document.getElementById('weather-description').innerHTML = data.current.weather[0].description;
                document.getElementById('weather-icon').src = `https://openweathermap.org/img/wn/${data.current.weather[0].icon}@2x.png`;
    
                let forecastHTML = '';
                data.daily.forEach((day, index) => {
                    if (index > 0 && index < 6) { // Show only the next 5 days
                        forecastHTML += `
                            <div class="weather-forecast-item">
                                <div class="day">${new Date(day.dt * 1000).toLocaleDateString('en-US', { weekday: 'long' })}</div>
                                <img src="https://openweathermap.org/img/wn/${day.weather[0].icon}@2x.png" alt="weather icon" class="w-icon">
                                <div class="temp">Night - ${day.temp.night.toFixed(1)}&#176; F</div>
                                <div class="temp">Day - ${day.temp.day.toFixed(1)}&#176; F</div>
                            </div>
                        `;
                    }
                });
    
                document.getElementById('weather-forecast').innerHTML = forecastHTML;
            }
    
            function updateTimeAndDate() {
                const time = document.getElementById("current-time");
                const date = document.getElementById("date");
                const now = new Date();
                
                time.innerHTML = now.toLocaleTimeString();
                date.innerHTML = now.toLocaleDateString();
            }
    
            fetchWeatherData();
            updateTimeAndDate();
            setInterval(updateTimeAndDate, 1000); // Update time every second
        </script>
        <footer>
            <!--Ads-->
            <div class="ads">
               
            </div>
           
                <h3>All rights reserved 2024</h3>
                <h4>Developed by Sekou Traore</h4>
           
        </footer>
</body>


</html>
